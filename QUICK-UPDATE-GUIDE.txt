âš¡ QUICK UPDATE GUIDE FOR HOSTINGER
====================================

ğŸ¯ GOAL: Update only the changed files on your live Hostinger site

ğŸ“¦ STEP 1: CREATE UPDATE PACKAGE
---------------------------------

Run this on your local machine:

Windows:
  Double-click: create-update-package.bat

This creates a "hostinger-update" folder with ONLY the files that changed.

ğŸ“¤ STEP 2: UPLOAD TO HOSTINGER
-------------------------------

Option A: File Manager (Easiest)
1. Login to Hostinger â†’ File Manager
2. Navigate to public_html/
3. Upload files from hostinger-update/ folder:
   
   Backend files â†’ public_html/api/
   â”œâ”€â”€ routes/api.php
   â”œâ”€â”€ app/Http/Controllers/
   â”‚   â”œâ”€â”€ AuthController.php
   â”‚   â”œâ”€â”€ InvoiceController.php (NEW)
   â”‚   â””â”€â”€ LabTestController.php (NEW)
   â”œâ”€â”€ app/Models/
   â”‚   â”œâ”€â”€ User.php
   â”‚   â”œâ”€â”€ Setting.php (NEW)
   â”‚   â”œâ”€â”€ DepartmentFee.php (NEW)
   â”‚   â””â”€â”€ InsuranceCompany.php (NEW)
   â””â”€â”€ database/migrations/
       â””â”€â”€ 2024_01_01_000001_create_hospital_tables.php

   Frontend files â†’ public_html/
   â”œâ”€â”€ index.html (if included)
   â””â”€â”€ assets/ (if included)

Option B: FTP (FileZilla)
1. Connect to your Hostinger FTP
2. Navigate to public_html/
3. Upload the same files as Option A

ğŸ”§ STEP 3: RUN MIGRATIONS (SSH)
--------------------------------

Connect via SSH:
  ssh your_username@your_server

Then run:
  cd public_html/api
  php artisan migrate --force

This creates 2 new tables:
  âœ… settings
  âœ… department_fees

ğŸ§¹ STEP 4: CLEAR CACHE (SSH)
-----------------------------

Still in SSH, run:
  php artisan config:clear
  php artisan cache:clear
  php artisan route:clear

âœ… STEP 5: TEST YOUR SITE
--------------------------

1. API Health Check:
   https://hasetcompany.or.tz/api/health
   Should show: {"status":"ok","database":"connected"}

2. Login Test:
   https://hasetcompany.or.tz
   Login with: admin@hasetcompany.or.tz / Admin@123

3. Test New Features:
   - Activity Logs (Admin Dashboard)
   - Pharmacy Medications
   - Lab Tests
   - Settings Management

ğŸ‰ DONE!
--------

Your site is now updated with:
âœ… 90+ API endpoints
âœ… Activity logging
âœ… Pharmacy management
âœ… Lab tests
âœ… Consultations
âœ… All missing routes

â±ï¸ ESTIMATED TIME: 10-15 minutes

ğŸ†˜ TROUBLESHOOTING
------------------

If you see errors:

1. Check Laravel logs:
   public_html/api/storage/logs/laravel.log

2. Verify files uploaded correctly:
   - Check file sizes match
   - Ensure no upload errors

3. Re-run migrations:
   php artisan migrate:fresh --force
   (âš ï¸ This will reset database - only if needed!)

4. Clear cache again:
   php artisan config:clear
   php artisan cache:clear
   php artisan route:clear

5. Check file permissions:
   Folders: 755
   Files: 644

ğŸ“‹ CHECKLIST
------------

Before updating:
â˜ Backup .env file
â˜ Note current working state
â˜ Have SSH access ready

During update:
â˜ Create update package
â˜ Upload files to Hostinger
â˜ Run migrations
â˜ Clear cache

After update:
â˜ Test API health
â˜ Test login
â˜ Test new features
â˜ Check for errors in console
â˜ Verify all dashboards work

ğŸ”„ ROLLBACK (If needed)
-----------------------

If something goes wrong:
1. Re-upload your backed up files
2. Run: php artisan migrate:rollback
3. Then: php artisan migrate
4. Clear cache

ğŸ’¡ TIPS
-------

âœ… Update during low-traffic hours
âœ… Keep backup of working files
âœ… Test on staging first (if available)
âœ… Have SSH access ready
âœ… Clear browser cache after update
âœ… Check mobile view too

ğŸ“ NEED HELP?
-------------

Check these files:
- update-hostinger.txt (detailed guide)
- hostinger-update/UPDATE-INSTRUCTIONS.txt
- complete-deploy/ARCHITECTURE-NOTES.txt

Last Updated: November 21, 2025
Update Type: Backend Routes + Controllers + Models
Difficulty: Easy â­â­â˜†â˜†â˜†
Time Required: 10-15 minutes
