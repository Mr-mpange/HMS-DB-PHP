<!DOCTYPE html>
<html>
<head>
    <title>Print Test</title>
</head>
<body>
    <h1>Print Function Test</h1>
    <p>This is a simple test to verify the print functionality works.</p>
    
    <button onclick="testPrint()">Test Print Function</button>
    
    <script>
        function testPrint() {
            // Simulate the print function from NurseDashboard
            const patient = {
                id: 'test-123',
                full_name: 'Test Patient',
                phone: '+255123456789',
                date_of_birth: '1990-01-01',
                gender: 'Male',
                blood_group: 'O+'
            };
            
            const labTests = [
                {
                    test_name: 'Blood Sugar Test',
                    completed_at: new Date().toISOString(),
                    results: {
                        glucose: {
                            value: '95',
                            unit: 'mg/dL',
                            normal_range: '70-100',
                            status: 'Normal'
                        }
                    }
                }
            ];
            
            console.log('Testing print with:', { patient, labTests });
            
            // Create simple print content
            const printContent = `
                <div id="test-print" style="display: none;">
                    <style>
                        @media print {
                            body * { visibility: hidden; }
                            #test-print, #test-print * { visibility: visible; }
                            #test-print { position: absolute; left: 0; top: 0; width: 100%; }
                        }
                    </style>
                    <h1>TEST LAB REPORT</h1>
                    <p>Patient: ${patient.full_name}</p>
                    <p>Test: ${labTests[0].test_name}</p>
                    <p>Status: Completed</p>
                </div>
            `;
            
            // Remove existing
            const existing = document.getElementById('test-print');
            if (existing) existing.remove();
            
            // Add to page
            document.body.insertAdjacentHTML('beforeend', printContent);
            
            // Print
            setTimeout(() => {
                window.print();
                console.log('Print dialog should have opened');
            }, 100);
        }
    </script>
</body>
</html>